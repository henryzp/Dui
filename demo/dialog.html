<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>弹窗</title>
    <link rel="stylesheet" href="dist/css/dui.css"/>
    <link rel="stylesheet" href="//at.alicdn.com/t/font_1475922891_4469836.css">
    <link rel="stylesheet" href="css/page.css" />
    <style>
        body {
            height: 2000px;
        }
    </style>
</head>
<body>

<div class="test22" style="position: absolute;left: 10px; top: 20px; width: 1000px; height: 500px; background: yellow;">

</div>

<div style="margin-top: 600px;">
    <h3>常规弹窗</h3>
    <a class="J_modal dui-btn" href="javascript:;">普通Modal</a>
    <a class="J_icon dui-btn" href="javascript:;">带图标标题Modal</a>
    <a class="J_alert dui-btn" href="javascript:;">alert Modal</a>
    <a class="J_confirm dui-btn" href="javascript:;">用户确认提示Modal</a>
</div>

<div>
    <h3>特殊弹窗</h3>
    <a class="J_no-title dui-btn" href="javascript:;">无标题</a>
    <a class="J_no-close dui-btn" href="javascript:;">无关闭</a>
    <a class="J_custom dui-btn" href="javascript:;">自定义弹窗</a>
    <a class="J_autoHeight dui-btn" href="javascript:;">自适应高度</a>
    <a class="J_noMask dui-btn" href="javascript:;">拖拽无蒙板</a>
</div>

<div>
    <h3>多个弹窗</h3>
    <a class="J_more-dialog dui-btn" href="javascript:;">多层</a>
</div>

<script src="dist/js/dui.js"></script>

<script>

    //Dui.Modal.alert("这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊这是一个测试啊");

    document.querySelector(".J_modal").addEventListener("click", function() {

        var dialog = new Dui.Modal({
            width: "200",  //宽度，可选
            height: "300", //高度，可选
            title: "呵呵",
            zIndex:  1000,
            className: "xxx", //新加class，绑定在dui-dialog上
            content: "...", //内容，可选
            //btnPos: "right", //按钮方向，left|center|right，默认right
            draggable: true,
            init: function(){

                console.log(this.dialogDom);

            },

            okFn: function() {

                alert(456);

            },

            cancelFn: function() {
                alert(1233333);
            }


        });

        dialog.$on("close", function() {
            alert("我要关闭！");
        });

        dialog.$on("ok", function() {
            alert("额");
        });

        dialog.$on("cancel", function() {
            alert("取消");
        });

        dialog.$on("dragStart", function() {
            console.log("开始拖动");
        });

        dialog.$on("dragEnd", function() {
            console.log("结束拖动");
        })

        dialog.$on("destroy", function() {
            console.log("我被销毁了");
        });


    }, false);

    document.querySelector(".J_icon").addEventListener("click", function() {

        new Dui.Modal({
            title: '我是图标啊',
            content: "我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊我是内容啊。",
            titleIconClass: "iconfont icon-sousuo1",
            okFn: function() {

            },
            cancel: true
        })

    }, false);

    document.querySelector(".J_alert").addEventListener("click", function() {

        Dui.Modal.alert("这是一段提示文案啊");

    });

    document.querySelector(".J_confirm").addEventListener("click", function() {

        Dui.Modal.confirm("是否关闭窗口").then(function(isOk){
            if(isOk) {
                alert("我点了确定");
            }else {
                alert("我点了取消");
            }
        })

    });


    document.querySelector(".J_no-title").addEventListener("click", function() {

        new Dui.Modal({
            title: "",
            content: "...", //内容，可选
            //btnPos: "right", //按钮方向，left|center|right，默认right
            init: function(){

                console.log(this.dialogDom);

            },

            okFn: function() {

            }

        })

    }, false);

    document.querySelector(".J_no-close").addEventListener("click", function() {

        new Dui.Modal({
            title: "",
            content: "...", //内容，可选
            ok: true,
            cancel: true,
            close: false
        })

    }, false);

    document.querySelector(".J_custom").addEventListener("click", function() {

        new Dui.Modal({
            type: "custom",
            content: "xxxx"
        })

    }, false);


    document.querySelector(".J_autoHeight").addEventListener("click", function() {

        new Dui.Modal({
            height: "auto",
            init: function() {
                var obtn = this.dialogDom.querySelector("button"),
                    odiv = this.dialogDom.querySelector(".hiddenElem");
                obtn.onclick = function(){
                    odiv.style.display = "block";
                }
            },
            ok: true,
            content: '这是一个自适应的弹窗<button>点我显示</button><div style="display: none;height: 200px;" class="hiddenElem">这是一个隐藏的200高度的DIV</div>'
        });

    }, false);

    document.querySelector(".J_noMask").addEventListener("click", function() {
        new Dui.Modal({
            draggable: true,
            mask: false
        })
    });

    document.querySelector(".J_more-dialog").addEventListener("click", function() {

        new Dui.Modal({
            width: 500,
            height: 300,
            okFn: function() {
                new Dui.Modal();
            }
        })

    }, false);


</script>

</body>
</html>